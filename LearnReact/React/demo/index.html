<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="js/react.js"></script>
  <script src="js/react-dom.js"></script>
  <script src="js/browser.min.js"></script>
  <title>Document</title>
</head>

<body>
  <div id="example"></div>
  <script type="text/babel">
    var Btn = React.createClass({
      handleGet:function(){
        var result = this.props.funcRead();
        console.log(result);
      },
      render:function(){
        return <button onClick={this.handleGet}>点击</button>
      }
    })
    var Input = React.createClass({
      //保存用户输入值
      handleSave:function(){
        var result = this.refs.inputText.value;
        //向Main组件传递值
        this.props.funcRestore(result);
      },
      render:function(){
        return <input type="text" ref="inputText" onChange={this.handleSave} />
      }
    })
    var Main = React.createClass({
      //保存Input组件传递过来的数值
      InputValue:'',
      handleRestore:function(value){
        this.InputValue = value;
      },
      //需要定义方法动态获得
      handleRead:function(){
        return this.InputValue;
      },
      render:function(){
        //不能在此直接传递InputValue，这样只是获得的初始值
        return <div>
          <Btn funcRead={this.handleRead}></Btn>
          <Input funcRestore={this.handleRestore}></Input>
        </div>
      }
    })

    ReactDOM.render(
      <Main></Main>,
      document.getElementById('example')
    )
  </script>
</body>

</html>